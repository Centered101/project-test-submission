<!DOCTYPE html>
<html lang="th">

<head>
    <title>ใบประกาศนียบัตร</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="theme-color" content="#409EFE">
    <meta name="keywords" content="HTML, CSS, XML, JavaScript, Centered101">
    <meta name="author" content="Centered101">
    <meta name="description" content="ใบประกาศนียบัตร">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://project-test-submission.netlify.app">
    <meta property="og:title" content="ใบประกาศนียบัตร">
    <meta property="og:description" content="ใบประกาศนียบัตร">
    <meta property="og:image" content="https://project-test-submission.netlify.app/images/icon.svg">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://project-test-submission.netlify.app">
    <meta property="twitter:title" content="ใบประกาศนียบัตร">
    <meta property="twitter:description" content="ใบประกาศนียบัตร">
    <meta property="twitter:image" content="https://project-test-submission.netlify.app/images/icon.svg">

    <link rel="shortcut icon" type="image/x-icon" href="https://project-test-submission.netlify.app/images/icon.svg">
    <link rel="stylesheet" href="./index.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <script src=https://cdn.tailwindcss.com></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
</head>

<style>
    /* iOS Scroll Fix */
    body {
        -webkit-overflow-scrolling: touch;
        overflow-scrolling: touch;
    }

    /* iOS Input Fix */
    input,
    select,
    textarea {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border-radius: 8px;
    }

    /* iOS Button Fix */
    button {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border-radius: 8px;
    }

    /* iOS Modal Fix */
    .modal-open {
        position: fixed;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    /* iOS Image Loading Fix */
    img {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }


    /* Filter highlight */
    .filter-highlight {
        background-color: #fef08a;
        padding: 1px 2px;
        border-radius: 2px;
    }
</style>

<body class="bg-[color:var(--bg-color)] min-h-screen">
    <!-- preloader -->
    <div id="preloader"
        class="!fixed inset-0 flex flex-col justify-center items-center bg-black bg-opacity-25 text-center min-h-screen uppercase font-semibold md:text-xl space-y-4 z-50 select-none visible touch-none">
        <span
            class="size-16 border-8 border-y-transparent rounded-full animate-spin border-[color:var(--main-color)] mx-auto"></span>
    </div>

    <!-- Header -->
    <header class="max-w-6xl mx-auto bg-[color:var(--main-color)] text-white text-center shadow-lg py-8">
        <h1 class="text-4xl font-bold">ใบประกาศนียบัตร</h1>
    </header>

    <!-- About Section -->
    <section
        class="max-w-6xl sticky top-0 flex flex-row items-center gap-2 md:gap-4 bg-[color:var(--white-smoker)] border rounded-b-xl shadow-lg mx-auto p-4 z-10">
        <button
            onclick="viewImage('https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/user_files/392/1408392/profilepict/profilepict-1408392-17542882116511.png')"
            class="shrink-0 touch-manipulation">
            <img src="https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/user_files/392/1408392/profilepict/profilepict-1408392-17542882116511.png"
                alt="นาย พงศ์พล พรมผา" class="size-8 md:size-16 rounded-full object-cover" />
        </button>
        <h2 class="text-xl md:text-3xl font-bold">นาย พงศ์พล พรมผา (Master phongphon Phompha)</h2>
    </section>

    <!-- Filter Section -->
    <section data-aos="fade-down" class="max-w-6xl mx-auto px-4 py-6">
        <div class="bg-[color:var(--white-smoker)] border shadow-sm rounded-xl space-y-4 p-6">
            <h3 class="text-lg font-semibold flex items-center">
                <i class="fas fa-search mr-2 text-[color:var(--main-color)]"></i>
                ค้นหาใบประกาศนียบัตร
            </h3>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Search Input -->
                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-400 mb-2">ชื่อหลักสูตร</label>
                    <div class="relative">
                        <input type="text" id="search-input" placeholder="ค้นหาชื่อหลักสูตร..."
                            class="w-full px-4 py-2 pl-10  bg-[color:var(--bg-color)] border rounded-lg focus:ring-2 focus:ring-[color:var(--main-color)] focus:border-transparent">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <!-- Year Filter -->
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-2">ปี</label>
                        <select id="year-filter"
                            class="w-full px-4 py-2  bg-[color:var(--bg-color)] border rounded-lg focus:ring-2 focus:ring-[color:var(--main-color)] focus:border-transparent">
                            <option value="">ทุกปี</option>
                        </select>
                    </div>
                    <!-- issuer Filter -->
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-2">ผู้ออก</label>
                        <select id="issuer-filter"
                            class="w-full px-4 py-2  bg-[color:var(--bg-color)] border rounded-lg focus:ring-2 focus:ring-[color:var(--main-color)] focus:border-transparent">
                            <option value="">ทั้งหมด</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="flex flex-wrap gap-3 mt-4 pt-4 border-t">
                <button onclick="clearFilters()"
                    class="bg-[color:var(--bg-color)] rounded-lg text-sm px-4 py-2 transition-colors duration-200 flex items-center">
                    <i class="fas fa-times mr-1"></i>
                    ล้างตัวกรอง
                </button>

                <div id="results-count" class="bg-[color:var(--bg-color)] text-sm rounded-lg px-4 py-2"></div>
            </div>
        </div>
    </section>

    <!-- Certificates Section -->
    <section class="max-w-6xl mx-auto px-4 pb-24">
        <div id="certificates-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Certificates will be populated by JavaScript -->
        </div>
    </section>

    <!-- Image Modal -->
    <div onclick="closeImageModal()" id="image-modal"
        class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center hidden z-40">

        <!-- Close text -->
        <span
            class="fade-in absolute top-8 text-sm bg-[color:var(--white-smoker)] border rounded px-2 py-1 select-none">
            แตะพื้นที่ว่างเพื่อปิด
        </span>

        <!-- Image container -->
        <div class="fade-in max-w-3xl border rounded-lg shadow-2xl mx-4 overflow-hidden">
            <div class="relative bg-[color:var(--bg-color)] p-4">
                <img id="modal-image" src="" alt="" class="w-full max-h-[80vh] object-contain">
            </div>
        </div>
    </div>

    <script>
        // Certificate data
        const certificates = [
            {
                id: 1,
                name: "การสร้างเว็บด้วย HTML และ CSS",
                issuer: "Online Course Platform",
                date: "2025-02-24",
                description: "พื้นฐานการทำงานของเว็บ: อินเทอร์เน็ตและเว็บ, โปรแกรมเว็บบราวเซอร์, ขั้นตอนการสื่อสารข้อมูลในการร้องขอหน้าเว็บ; การแทนโครงสร้างของหน้าเว็บด้วยต้นไม้ดอม; มาตรฐานที่ใช้ในการแสดงและมีปฏิสัมพันธ์กับหน้าเว็บ; ภาษาเอชทีเอ็มแอล: ไวยากรณ์ของภาษาเอชทีเอ็มแอล, ความหมายขององค์ประกอบเอชทีเอ็มแอลชนิดต่าง ๆ และวิธีการใช้งาน; ภาษาซีเอสเอส: การกำหนดลักษณะการแสดงผลให้แก่หน้าเว็บด้วยซีเอสเอส, ไวยากรณ์ของภาษาซีเอสเอส, การเลือกองค์ประกอบเอชทีเอ็มแอลด้วยตัวเลือกในภาษาซีเอสเอส, สมบัติการแสดงผลและค่าการแสดงผล; ตัวอย่างการเขียนหน้าเว็บด้วยภาษาเอชทีเอ็มแอลและภาษาซีเอสเอส; คำแนะนำในการเรียนรู้เพิ่มเติมเกี่ยวกับการพัฒนาเว็บ",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2023_2/51611/cvcert_usercert/certificate_51611_1408392-1408392-17403928281066.jpg",
            },
            {
                id: 2,
                name: "รู้จักคอมพิวเตอร์และระบบดิจิทัล",
                issuer: "Online Course Platform",
                date: "2025-02-26",
                description: "วิวัฒนาการและความเป็นมาของระบบคอมพิวเตอร์ การแทนข้อมูลในระบบคอมพิวเตอร์ ระบบเลขฐานสอง วงจรดิจิทัล ฮาร์ดแวร์ในระบบคอมพิวเตอร์ สถาปัตยกรรมคอมพิวเตอร์เบื้องต้น ซอฟต์แวร์ในระบบคอมพิวเตอร์",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2023_2/51604/cvcert_usercert/certificate_51604_1408392-1408392-17405696369141.jpg",
            },
            {
                id: 3,
                name: "พื้นฐานเครือข่ายคอมพิวเตอร์และอินเทอร์เน็ต",
                issuer: "Online Course Platform",
                date: "2025-02-27",
                description: "ประวัติความเป็นมาของระบบอินเทอร์เน็ต; อินเทอร์เน็ตในประเทศไทย; โพรโทคอลในระบบเครือข่าย; ชุดโพรโทคอลอินเทอร์เน็ต; ฮาร์ดแวร์ในการเชื่อมต่ออินเทอร์เน็ต; บริการในระบบอินเทอร์เน็ต",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2023_2/51605/cvcert_usercert/certificate_51605_1408392-1408392-17406466510282.jpg",
            },
            {
                id: 4,
                name: "รู้จักอินเทอร์เน็ตของทุกสรรพสิ่ง",
                issuer: "Online Course Platform",
                date: "2025-02-28",
                description: "แนะนำเทคโนโลยีด้านอินเทอร์เน็ตของทุกสรรพสิ่ง (IoT) ความหมาย ความเป็นมา และการประยุกต์ใช้งานในปัจจุบัน องค์ประกอบด้านเทคโนโลยีได้แก่ ระบบการบริหารจัดการข้อมูล ระบบอุปกรณ์และการตรวจวัดค่า (Sensors) ระบบการส่งข้อมูล ระบบการจัดเก็บข้อมูล ระบบการวิเคราะห์ และระบบนำเสนอข้อมูล กระบวนการตัดสินใจโดยใช้ข้อมูลในทางธุรกิจและอุตสาหกรรม",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2023_2/51606/cvcert_usercert/certificate_51606_1408392-1408392-17407035787689.jpg",
            },
            {
                id: 5,
                name: "การพัฒนา Full-stack เว็บแอปพลิเคชัน",
                issuer: "Online Course Platform",
                date: "2025-08-05",
                description: "รายวิชา การพัฒนา Full-stack เว็บแอปพลิเคชัน ครอบคลุมเนื้อหาเกี่ยวกับการพัฒนาเว็บแอปพลิเคชันโดยใช้ภาษา Javascript และใช้ React ในการสร้างหน้าต่างผู้ใช้ (User Interface) และใช้ Node.js และ Express.js ในการพัฒนาเว็บแอปพลิเคชันในรูปแบบ Server-Side และเชื่อมต่อฐานข้อมูลด้วย MongoDB กับ Mongoose นอกจากนี้ รายวิชาครอบคลุมไปถึงความปลอดภัยของเว็บแอปพลิเคชั่น ได้แก่ การใช้ระบบยืนยันตัวตน (Authentication) และ กลไกในการยืนยันตัวตน (Authorization Mechanisms) เมื่อเรียนเสร็จสิ้น ผู้เรียนจะได้เรียนรู้การพัฒนาเว็บแอปพลิเคชันด้วยภาษา Javascript",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2023_2/51618/cvcert_usercert/certificate_51618_1408392-1408392-17544126803709.jpg",
            },
            {
                id: 6,
                name: "รู้จักปัญญาประดิษฐ์ และการเรียนรู้ของเครื่อง",
                issuer: "Online Course Platform",
                date: "2025-08-06",
                description: "ความหมายของปัญญาประดิษฐ์ เครื่องมือที่จำเป็นสำหรับการทำงานด้านปัญญาประดิษฐ์ การประยุกต์ใช้ปัญญาประดิษฐ์ การเรียนรู้ของเครื่อง การประเมินผลของโมเดลการเรียนรู้ของเครื่อง เครื่องมือที่จำเป็นสำหรับการเรียนรู้ของเครื่อง",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2023_2/51607/cvcert_usercert/certificate_51607_1408392-1408392-17544641286631.jpg",
            },
            {
                id: 7,
                name: "Introducing Generative AI in Academic Research for Students",
                issuer: "Online Course Platform",
                date: "2025-08-06",
                description: "เพื่อให้ผู้เรียนมีความรู้ความเข้าใจเกี่ยวกับการใช้เครื่องมือ Generative AI ได้อย่างเหมาะสม",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2024_2/66537/cvcert_usercert/certificate_66537_1408392-1408392-17544890199530.jpg",
            },
            {
                id: 8,
                name: "การแก้ปัญหาในชีวิตประจำวันด้วยแนวคิดเชิงคำนวณ (Computational Thinking)",
                issuer: "Online Course Platform",
                date: "2025-08-10",
                description: "เริ่มต้นได้เรียนรู้การแยกส่วนประกอบและการย่อยปัญหา (Decomposition) การหารูปแบบ (Pattern Recognition) การคิดเชิงนามธรรม (Abstraction) และขั้นตอนวิธี (Algorithm) เพื่อให้ผู้เรียนสามารถแก้ไขปัญหาอย่างเป็นระเบียบ และมีขั้นตอนการแก้ไขปัญหาตั้งแต่ต้นจนจบได้อย่างถูกต้องและชัดเจน",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2023_2/51966/cvcert_usercert/certificate_51966_1408392-1408392-17547597023651.jpg",
            },
            {
                id: 9,
                name: "ChatGPT ช่วยทำวิจัยได้ไม่ต้องเหนื่อยแทบตาย",
                issuer: "Online Course Platform",
                date: "2025-08-10",
                description: "ChatGPT ช่วยทำวิจัยได้ไม่ต้องเหนื่อยแทบตาย (ในทุกขั้นตอน) จะเป็นการนำเสนอเนื้อหาเกี่ยวกับการใช้ ChatGPT เป็นตัวช่วยในการเขียนงานวิจัย ไม่ว่าจะเป็นการเลือกหัวข้องานวิจัย ขอบเขตงานวิจัย การช่วยทำแบบสอบถาม การหาแหล่งข้อมูล การวิเคราะห์ข้อมูล รวมถึงบทบาทของ ChatGPT ในเชิงจริยธรรม เพื่อให้ผู้เรียนได้ทราบว่า ChatGPT สามารถเป็นตัวช่วยทำวิจัยได้จริงหรือไม่",
                image: "https://mycourseville-default.s3.ap-southeast-1.amazonaws.com/system_course_files/2022_2/36997/cvcert_usercert/certificate_36997_1408392-1408392-17547638823717.jpg",
            },
            {
                id: 1,
                name: "จำลอง 1",
                issuer: "Centered101",
                date: "2024-08-11",
                description: "",
                image: "-",
            },
            {
                id: 2,
                name: "จำลอง 2",
                issuer: "Centered101",
                date: "2025-08-12",
                description: "",
                image: "-",
            },
            {
                id: 3,
                name: "จำลอง 3",
                issuer: "Center",
                date: "2024-08-13",
                description: "",
                image: "-",
            },
            {
                id: 4,
                name: "จำลอง 4",
                issuer: "101",
                date: "2026-08-14",
                description: "",
                image: "-",
            },
            {
                id: 5,
                name: "จำลอง 5",
                issuer: "Center",
                date: "2023-08-15",
                description: "",
                image: "-",
            },
        ];

        let filteredCertificates = [...certificates];
        let currentSearchTerm = '';
        let currentYear = '';

        // iOS Detection
        function isiOS() {
            return /iPad|iPhone|iPod/.test(navigator.userAgent);
        }

        function getValidCertificates() {
            return certificates.filter(cert => cert.name && cert.date && cert.image);
        }

        function highlightText(text, searchTerm) {
            if (!searchTerm) return text;
            const regex = new RegExp(`(${searchTerm})`, 'gi');
            return text.replace(regex, '<span class="filter-highlight">$1</span>');
        }

        function filterCertificates() {
            const validCertificates = getValidCertificates();

            filteredCertificates = validCertificates.filter(cert => {
                const matchesSearch = !currentSearchTerm ||
                    cert.id.toLowerCase().includes(currentSearchTerm.toLowerCase()) ||
                    cert.name.toLowerCase().includes(currentSearchTerm.toLowerCase()) ||
                    cert.issuer.toLowerCase().includes(currentSearchTerm.toLowerCase()) ||
                    cert.description.toLowerCase().includes(currentSearchTerm.toLowerCase());

                const matchesYear = !currentYear ||
                    new Date(cert.date).getFullYear().toString() === currentYear;

                return matchesSearch && matchesYear;
            });

            filteredCertificates.sort((a, b) => new Date(b.date) - new Date(a.date));

            renderCertificates();
            updateResultsCount();
        }

        function updateResultsCount() {
            const count = filteredCertificates.length;
            const total = getValidCertificates().length;

            $('#results-count').html(`
        <span data-aos="fade-up-right"><i class="fas fa-certificate mr-1"></i>แสดง ${count} จาก ${total} ใบประกาศ</span>
    `);
        }

        function populateYearFilter() {
            const validCertificates = getValidCertificates();
            const years = [...new Set(validCertificates.map(cert =>
                new Date(cert.date).getFullYear()
            ))].sort((a, b) => b - a);

            const $yearSelect = $('#year-filter');
            $yearSelect.html('<option value="">ทุกปี</option>');

            years.forEach(year => {
                $yearSelect.append(`<option value="${year}">${year + 543}</option>`);
            });
        }

        function clearFilters() {
            $('#search-input').val('');
            $('#year-filter').val('');
            currentSearchTerm = '';
            currentYear = '';
            filterCertificates();
        }

        function renderCertificates() {
            const $grid = $('#certificates-grid');

            if (filteredCertificates.length === 0) {
                $grid.html(`
            <div data-aos="fade-up" class="col-span-full text-center py-24">
                <i class="fas fa-certificate text-6xl mb-4"></i>
                <p class="text-xl text-gray-600">ไม่พบใบประกาศ</p>
            </div>
        `);
                return;
            }

            var noimages = "https://project-test-submission.netlify.app/images/img/placeholder.svg";

            let html = '';
            filteredCertificates.forEach(cert => {
                html += `
            <div data-aos="fade-up" class="relative bg-[color:var(--white-smoker)] border rounded-lg touch-manipulation">
                <button onclick="viewImage('${cert.image}', '${cert.name}')" 
                        class="relative overflow-hidden w-full text-left touch-manipulation group">
                    <img src="${cert.image || noimages}" 
                         alt="${cert.name}" 
                         class="w-full h-68 object-cover group-hover:scale-105 transition-transform duration-300"
                         onerror="this.src='${noimages}'"
                         loading="lazy">
                    <div class="absolute inset-0 bg-black bg-opacity-0 transition-opacity duration-700 flex items-center justify-center group-hover:bg-opacity-25">
                        <div class="size-16 flex items-center justify-center bg-[color:var(--white-smoker)] text-[color:var(--main-color)] text-2xl rounded-full opacity-0 transition-opacity duration-700 group-hover:opacity-100">
                            <i class="fas fa-search-plus"></i>
                        </div>
                    </div>
                </button>
                <div class="p-4 space-y-2">
                    <h3 class="text-lg font-semibold line-clamp-2 leading-tight">${highlightText(cert.name, currentSearchTerm)}</h3>
                    <p class="text-sm text-gray-500 flex items-center">
                        <i class="fas fa-building mr-2"></i>
                        ${cert.issuer}
                    </p>
                    <p class="text-sm text-gray-500 flex items-center">
                        <i class="fas fa-calendar-alt mr-2"></i>
                        ${new Date(cert.date).toLocaleDateString('th-TH', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                })}
                    </p>
                    <p class="text-sm text-gray-600 line-clamp-3 leading-relaxed">${highlightText(cert.description, currentSearchTerm)}</p>
                    <span class="w-6 h-6 absolute -top-3 -right-2 flex items-center justify-center bg-[color:var(--main-color)] text-white text-xs rounded-full font-medium shadow-md">
                        ${cert.id}
                    </span>
                </div>
            </div>
        `;
            });

            $grid.html(html);
        }

        function viewImage(imageSrc, altText = '') {
            $('#modal-image').attr('src', imageSrc).attr('alt', altText);
            $('#image-modal').removeClass('hidden');

            if (isiOS()) {
                $('body').addClass('modal-open');
            }
        }

        function closeImageModal() {
            $('#image-modal').addClass('hidden');

            if (isiOS()) {
                $('body').removeClass('modal-open');
            }
        }

        $(document).ready(function () {
            // Hide preloader
            setTimeout(() => {
                $('#preloader').hide();
            }, 1500);

            populateYearFilter();
            filterCertificates();

            // Search input event
            $('#search-input').on('input', function () {
                currentSearchTerm = $(this).val().trim();
                filterCertificates();
            });

            // Year filter event
            $('#year-filter').on('change', function () {
                currentYear = $(this).val();
                filterCertificates();
            });

            // Keyboard events
            $(document).on('keydown', function (e) {
                if (e.key === 'Escape') {
                    closeImageModal();
                }
            });

            // Modal image click event
            $('#modal-image').on('click', function (e) {
                e.stopPropagation();
            });

            if (isiOS()) {
                $('input, select, textarea').on('focus', function () {
                    $('meta[name=viewport]').attr(
                        'content',
                        'width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'
                    );
                }).on('blur', function () {
                    $('meta[name=viewport]').attr(
                        'content',
                        'width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'
                    );
                });

                $('body').addClass('ios-device');
            }

            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const $img = $(entry.target);
                            if ($img.data('src')) {
                                $img.attr('src', $img.data('src'));
                                $img.removeAttr('data-src');
                                observer.unobserve(entry.target);
                            }
                        }
                    });
                }, {
                    rootMargin: '50px 0px',
                    threshold: 0.1
                });

                $('img[data-src]').each(function () {
                    imageObserver.observe(this);
                });
            }
        });

        // iOS Safari viewport height fix
        function setVH() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }

        if (isiOS()) {
            setVH();
            $(window).on('resize', setVH);
            $(window).on('orientationchange', function () {
                setTimeout(setVH, 100);
            });
        }

        let lastTouchEnd = 0;
        $(document).on('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        });

        // Enhanced error handling for images
        $(document).on('error', 'img', function () {
            $(this).attr('src', noimages)
                .attr('alt', 'ไม่สามารถโหลดรูปภาพได้');
        });

        AOS.init({
            duration: 700,
            once: true,
            easing: 'ease-in-out',
        });
    </script>
</body>

</html>