<!doctype html>
<html lang="th">

<head>
    <title>Class Schedule</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="theme-color" content="#409EFE">
    <meta name="keywords" content="HTML, CSS, XML, JavaScript, Centered101">
    <meta name="author" content="Centered101">
    <meta name="description" content="Class Schedule">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://project-test-submission.netlify.app">
    <meta property="og:title" content="Class Schedule">
    <meta property="og:description" content="Class Schedule">
    <meta property="og:image" content="https://project-test-submission.netlify.app/images/icon.svg">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://project-test-submission.netlify.app">
    <meta property="twitter:title" content="Class Schedule">
    <meta property="twitter:description" content="Class Schedule">
    <meta property="twitter:image" content="https://project-test-submission.netlify.app/images/icon.svg">

    <link rel="shortcut icon" type="image/x-icon" href="https://project-test-submission.netlify.app/images/icon.svg">
    <link rel="stylesheet" href="/style/style.css">
    <!-- <link rel="stylesheet" href="/style/main.css"> -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</head>
<style>
    :root {
        --bg-color: #FFFFFF;
        --white-smoker: #F5F5F5;
        --border: #E5E7EB;
        --text-color: #0D0D0D;
        --accent-color: #E3F2FD;
    }

    body {
        font-family: "Bai Jamjuree", sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        fill: var(--text-color);
        transition: background-color 300ms, color 300ms;
    }

    .bg-img {
        font-family: "Kanit", sans-serif;
    }

    .bg-img::after {
        content: '';
        background-image: url("https://project-test-submission.netlify.app/images/img/BG-Programming.webp");
        background-size: cover;
        background-position: center;
        position: absolute;
        inset: 0;
        opacity: .1;
        z-index: -50;
    }
</style>

<body class="font-semibold text-sm sm:text-base md:text-xl !*:slashed-zero">
    <div id="preloader"
        class="!fixed inset-0 flex flex-col justify-center items-center bg-[color:var(--bg-color)] text-center min-h-screen uppercase font-semibold md:text-xl space-y-4 z-50 select-none visible touch-none">
        <span
            class="size-16 border-8 border-y-transparent rounded-full animate-spin border-[color:var(--primary-color)] mx-auto"></span>
        <h2>Loading</h2>
        <p>Your adventure is about to begin</p>
    </div>
    <script>
        let isNameHidden = true;

        function toggleName() {
            const firstName = document.getElementById("firstName");
            const lastName = document.getElementById("lastName");
            const studentId = document.getElementById("id");

            if (isNameHidden) {
                firstName.textContent = "พงศ์พล";
                lastName.textContent = "พรมผา";
                studentId.textContent = "3130";
            } else {
                firstName.textContent = lastName.textContent = studentId.textContent = "—";
            }

            isNameHidden = !isNameHidden;
        }
    </script>

    <main class="md:grid grid-cols-2">
        <section
            class="bg-img h-screen static md:sticky top-0 flex justify-center items-center p-8 select-none overflow-hidden">
            <div onclick="toggleName()" data-aos="fade-right" data-aos-duration="700"
                class="w-96 bg-[color:var(--white-smoker)] bg-center border border-[color:var(--border)] rounded-lg shadow-xl cursor-pointer">
                <div class="flex flex-col justify-center items-center gap-4 p-4">
                    <h1 class="sm:text-xl font-extrabold mt-2">บัตรประจำตัวนักศึกษาออนไลน์</h1>
                    <img id="images" class="size-56 rounded object-cover ease-in-out duration-300 select-none"
                        src="https://project-test-submission.netlify.app/images/icon.svg" draggable="false"
                        oncontextmenu="return false" alt="โปรไฟล์">
                </div>

                <div class="flex flex-col justify-center items-center px-4">
                    <div role="region" tabindex="0" class="w-full">
                        <table class="table-auto w-full text-left">
                            <tbody>
                                <tr>
                                    <td class="font-extrabold p-1">ชื่อ</td>
                                    <td class="p-2" id="firstName">—</td>
                                </tr>
                                <tr>
                                    <td class="font-extrabold p-2">นามสกุล</td>
                                    <td class="p-2" id="lastName">—</td>
                                </tr>
                                <tr>
                                    <td class="font-extrabold p-2">เลขประจำตัว</td>
                                    <td class="p-2" id="id">—</td>
                                </tr>
                                <tr>
                                    <td class="font-extrabold p-2">สาขาวิชา</td>
                                    <td class="p-2">เทคโนโลยีธุรกิจดิจิทัล</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="flex justify-end items-center p-4">
                    <img class="size-20 select-none" src="qr-code.svg" draggable="false" oncontextmenu="return false"
                        alt="QR Code">
                </div>
            </div>
        </section>
        <section
            class="min-h-screen bg-[color:var(--bg-color)] border-t-4 border md:border-t-0 md:border-l-4 overflow-hidden">
            <p data-aos="fade-left" data-aos-duration="700"
                class="text-center text-xl md:text-3xl font-extrabold py-24">ตารางเรียน
                ปวช. คอมพิวเตอร์ธุรกิจ</p>
            <div id="class" class="grid sm:grid-cols-2 md:grid-cols-2 gap-8 sm:gap-2 md:gap-8 p-2 pb-24 md:p-8">
                <!-- ที่นี่จะถูกเพิ่ม element ภายหลังด้วย jQuery -->
            </div>
        </section>
    </main>

    <script>
        $(function () {
            const classListData = [
                { name: "2024", link: "", attributes: 'data-aos="fade-up"' },
                { name: "ชวช. 1 ภาคเรียนที่ 1", link: "class-schedule-1-1.html", addClass: "bg-red-200", attributes: 'data-aos="fade-left"' },
                { name: "ชวช. 1 ภาคเรียนที่ 2", link: "class-schedule-1-2.html", addClass: "bg-green-200", attributes: 'data-aos="fade-left"' },
                { name: "2025", link: "", attributes: 'data-aos="fade-up"' },
                { name: "ปวช.2 ภาคเรียนที่ 1", link: "class-schedule-2-1.html", addClass: "bg-blue-200", attributes: 'data-aos="fade-left"' },
                { name: "ชวช. 2 ภาคเรียนที่ 2", link: "#", addClass: "bg-yellow-200", attributes: 'data-aos="fade-left"' },
                { name: "2026", link: "", attributes: 'data-aos="fade-up"' },
                { name: "ปวช.3 ภาคเรียนที่ 1", link: "#", addClass: "bg-orange-200", attributes: 'data-aos="fade-left"' },
                { name: "ชวช. 3 ภา​คเรียนที่ 2", link: "#", addClass: "bg-lime-200", attributes: 'data-aos="fade-left"' },
            ];

            const $classList = $('#class');
            const baseClasses = 'max-w-md border rounded-lg flex flex-col justify-center items-center overflow-hidden ease-in-out duration-300 group mx-auto p-4 py-16 hover:bg-[color:var(--accent-color)]';

            $.each(classListData, function (_, { name, link, addClass, attributes = '' }) {
                // ตรวจสอบว่า name เป็นตัวเลข 4 หลัก (ปี) หรือไม่
                const isYear = /^\d{4}$/.test(name);
                // ถ้าเป็นปี ใช้คลาส col-span-full พร้อม styling เด่น
                const spanClass = isYear
                    ? 'col-span-full text-xl font-extrabold border-0 py-8 !opacity-100 hover:!bg-transparent'
                    : addClass;

                const $div = $(`
      <div class="${isYear ? 'col-span-full' : ''}" ${attributes} data-aos-duration="700">
        <a
          title="${name}"
          href="${link}"
          target="_top"
          class="${baseClasses} ${spanClass}"
        >
          <span class="text-center" style="color: var(--text-color);">${name}</span>
        </a>
      </div>
    `);

                $classList.append($div);
            });

            // ปิดลิงก์ถ้าไม่มี href หรือเป็น "#"
            $classList.find('a').each(function () {
                const href = $(this).attr('href');
                if (!href || href === '#') {
                    $(this)
                        .addClass('cursor-default opacity-25 hover:!bg-transparent')
                        .on('click', e => e.preventDefault());
                }
            });
        });
        AOS.init({ duration: 700, once: true });
    </script>
    <script src="/script/index.js"></script>
</body>

</html>