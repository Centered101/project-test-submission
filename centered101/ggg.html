<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Profile Song</title>
    <link rel="shortcut icon" type="image/x-icon" href="">
    <link rel="stylesheet" href="./index.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <script src=https://cdn.tailwindcss.com></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
</head>

<body class="bg-gray-100 flex items-center justify-center h-screen">

    <!-- Profile Song Section -->
    <div class="">
        <!-- Song Info -->
        <div class="flex items-center gap-3">
            <!-- Play / Pause Button -->
            <button id="playBtn"
                class="size-4 flex items-center justify-center rounded-full bg-blue-500 text-white hover:bg-blue-600">
                <i class="fas fa-play"></i>
            </button>

            <div>
                <p class="text-sm font-semibold text-gray-800">My Profile Song</p>
            </div>
        </div>


        <!-- Hidden Audio -->
        <audio id="profileSong" preload="auto">
            <!-- ใส่เพลงที่นี่ -->
            <source src="https://www.kozco.com/tech/piano2-CoolEdit.mp3" type="audio/mpeg">
        </audio>
    </div>

    <script>
        $(function () {
            const audio = $("#profileSong")[0];
            let timer;

            $("#playBtn").click(function () {
                if (audio.paused) {
                    audio.currentTime = 0; // เล่นใหม่ตั้งแต่ต้น
                    audio.play();
                    $(this).html('<i class="fas fa-pause"></i>');

                    // ตั้งเวลาเล่นแค่ 30 วิ
                    timer = setTimeout(() => {
                        audio.pause();
                        audio.currentTime = 0;
                        $("#playBtn").html('<i class="fas fa-play"></i>');
                    }, 30000);

                } else {
                    audio.pause();
                    audio.currentTime = 0;
                    clearTimeout(timer);
                    $(this).html('<i class="fas fa-play"></i>');
                }
            });
        });
    </script>

</body>

</html>